{"version":3,"sources":["NewPhrag.module.css","Hdr.module.css","App.module.css","Login.js","Register.js","PhragList.js","MutPhrag.js","NewPhrag.js","Hdr.js","state.js","App.js","index.js"],"names":["module","exports","flx","input","button","h1","body","window","left","right","error","Login","_useContext","useContext","Conn","api","acts","select","_useState","useState","_useState2","Object","slicedToArray","email","setEmail","_useState3","_useState4","pass","setPass","curUser","curEmail","react_default","a","createElement","onClick","auth_logoff","value","onChange","e","target","placeholder","type","name","required","post","password","then","res","auth_login","data","auth_token","user","Register","axios","console","log","PhragList","allPhrags","map","p","phr_select","id","key","style","cursor","text","MutPhrag","props","setText","setId","useEffect","selPhrag","_useState5","_useState6","isEditing","setIsEditing","fetchPhrags","NewPhrag","className","styles","rnbwClrs","_split_clrs","clrs","newClrs","first","last","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","clr","push","ClrMth","concat","result","hex","err","return","_copy_clrs","toConsumableArray","_calc_clr_by_pct","pc","numClrs","length","idx","Math","floor","Hdr","tick","setTick","tmr","Easer","using","AnimationTimer","duration","on","play","ColoredLetters","stop","run_len","children","split","ltrs","numLtrs","ltr","t_run","color","getLtr","ats","AUTH_LOGIN","AUTH_LOGOFF","PHR_LOAD","PHR_SELECT","_phr_rx","state","action","_dc","items","selected","_auth_rx","token","initialState","auth","sessionStorage","getItem","phrags","reducer","assign","update","selectToken","selectEmail","selectAllPhrags","selectSelectedPhrag","selId","selectSelectedPhragId","find","getSelectors","React","createContext","SHOW_DEBUGGER","ReactDOM","render","dbg","setDbg","dbgRC","setDbgRC","_useReducer","useReducer","_useReducer2","appState","dispatch","setItem","phr_load","getActions","headers","Authorization","create","get","conn","Provider","JSON","stringify","document","getElementById"],"mappings":"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","file":"static/js/main.02e3cfbf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"flx\":\"NewPhrag_flx__2aEPO\",\"input\":\"NewPhrag_input__2A8Jx\",\"button\":\"NewPhrag_button__1A6qd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"Hdr_h1__3TjoN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"App_body__ZTvxg\",\"window\":\"App_window__35LVr\",\"left\":\"App_left__3HZV9\",\"right\":\"App_right__1pmkn\",\"error\":\"App_error__1umzI\"};","import React, {useState, useContext} from 'react';\n\nimport { Conn } from './App.js';\n\n\nexport default function Login() {\n  const {\n    api,\n    acts,\n    select,\n  } = useContext(Conn)\n\n  const [email, setEmail] = useState('')\n  const [pass, setPass] = useState('')\n  const submit = () => api.post('/auth/login', {\n    email,\n    password: pass,\n  }).then(res => acts.auth_login(res.data.auth_token, res.data.user.email))\n  const logOff = () => acts.auth_logoff()\n  const curUser = select.curEmail();\n\n  return <div>\n    { curUser ? <div>\n      <button onClick={logOff}>\n        Log off\n      </button>\n    </div> : <div>\n      <input\n        value={email}\n        onChange={e => setEmail(e.target.value)}\n        placeholder=\"Email address\"\n        type=\"email\"\n        name=\"email\"\n        required\n      />\n      <input\n        value={pass}\n        onChange={e => setPass(e.target.value)}\n        placeholder=\"Password\"\n        type=\"password\"\n        name=\"password\"\n        required\n      />\n      <button onClick={submit}>\n        Login\n      </button>\n    </div> }\n  </div>\n}\n","import React, {useState} from 'react';\n\nimport axios from 'axios';\n\nexport default function Register() {\n  const [email, setEmail] = useState('')\n  const [pass, setPass] = useState('')\n  const submit = () =>\n    axios.post('/auth/register', {email, password:pass}).then(res => console.log(res))\n\n  return <div>\n    <p>Register</p>\n    <input\n      value={email}\n      onChange={e => setEmail(e.target.value)}\n      placeholder=\"Email address\"\n      type=\"email\"\n      name=\"email\"\n      required\n    />\n    <input\n      value={pass}\n      onChange={e => setPass(e.target.value)}\n      placeholder=\"Password\"\n      type=\"password\"\n      name=\"password\"\n      required\n    />\n    <button type=\"submit\" onClick={submit}>\n      Register\n    </button>\n  </div>\n}\n","import React, { useContext } from 'react';\n\nimport { Conn } from './App.js';\n\nexport default function PhragList() {\n  const {\n    acts,\n    select\n  } = useContext(Conn)\n\n  return <div>\n    <div>\n      {select.allPhrags().map((p) =>\n        <div onClick={() => acts.phr_select(p.id)} key={p.id}>\n          <span style={{'cursor':'pointer'}}>{p.text}</span>\n        </div>)\n      }\n    </div>\n  </div>\n}\n","import React, {useState, useEffect, useContext} from 'react';\n\nimport { Conn } from './App.js';\n\nexport default function MutPhrag(props) {\n  const {\n    api,\n  } = useContext(Conn)\n\n  const [text, setText] = useState('')\n  const [id, setId] = useState(null)\n  useEffect(() => {\n    if (props.selPhrag) {\n      setText(props.selPhrag.text)\n      setId(props.selPhrag.id)\n    }\n  }, [props.selPhrag])\n  const [isEditing, setIsEditing] = useState(false)\n\n  const submit = () => api.post('/phrag/update', {\n    text,\n    id,\n  }).then((res) => {\n    setText(text)\n    api.fetchPhrags().then(() => setIsEditing(false))\n  })\n\n\n  return <div>\n    { isEditing ? <div>\n      <input\n        value={text}\n        onChange={e => setText(e.target.value)}\n        placeholder=\"write something\"\n        type=\"text\"\n        name=\"text\"\n        required\n      />\n      <button onClick={submit}>\n        update\n      </button>\n    </div> : <div>\n      {text}\n    </div> }\n    <button onClick={() => setIsEditing(!isEditing)}>\n      is edit\n    </button>\n\n  </div>\n}\n","import React, {useState, useContext} from 'react';\n\nimport { Conn } from './App.js';\n\nimport styles from './NewPhrag.module.css'\n\nexport default function NewPhrag(props) {\n  const {\n    api,\n  } = useContext(Conn)\n\n  const initText = ''\n  const [text, setText] = useState(initText)\n\n  const submit = () => api.post('/phrag/add', {\n    text,\n  }).then((res) => {\n    setText(initText)\n    api.fetchPhrags()\n  })\n\n\n  return <div className={styles.flx}>\n    <input\n      value={text}\n      onChange={e => setText(e.target.value)}\n      className={styles.input}\n      placeholder=\"write something\"\n      type=\"text\"\n      name=\"text\"\n      required\n    />\n    <button onClick={submit} className={styles.button}>\n      add\n    </button>\n  </div>\n}\n\n","import React, { useState, useEffect } from 'react'\n\nimport { AnimationTimer } from 'animation-timer'\nimport { Easer } from 'functional-easing'\nimport * as ClrMth from 'color-math';\n\nimport styles from './Hdr.module.css'\n\nconst rnbwClrs = _split_clrs(_split_clrs(_split_clrs([\n  '#5CE905',\n  '#2305e9',\n  '#8F05DA',\n  '#e905ce',\n  '#e91405',\n  '#D98805',\n  '#cbe905',\n  '#5CE905',\n])))\n\nfunction _split_clrs(clrs) {\n  const newClrs = []\n  const first = clrs[0]\n  let last = clrs[0]\n  for (let clr of clrs) {\n    if (clr === last) {\n      continue\n    } else {\n      newClrs.push(last)\n      newClrs.push(ClrMth.evaluate(`${last} | ${clr}`).result.hex())\n    }\n    last = clr\n  }\n  newClrs.push(ClrMth.evaluate(`${last} | ${first}`).result.hex())\n  return newClrs\n}\n\nfunction _copy_clrs(clrs) {\n  return [...clrs, ...clrs]\n}\n\nconst _test_clrs = (clrs) => _copy_clrs(_copy_clrs(clrs))\n\nconst clrs = _test_clrs(rnbwClrs)\n\nconst _calc_clr_by_pct = (pc) => {\n  const numClrs = clrs.length\n  const idx = Math.floor(pc * (numClrs-1))\n  return clrs[idx];\n}\n\nexport default function Hdr() {\n  const [isDone, setIsDone] = useState(false)\n  const [tick, setTick] = useState(0)\n\n  const easer = new Easer().using('in-out-bounce')\n  const tmr = new AnimationTimer()\n    .duration('2s')\n    .on('tick', (pc) => setTick(pc))\n\n  const stop = .4;\n  const run_len = .55;\n\n  return <div>\n    <h1 onClick={() => tmr.play()} className={styles.h1}>\n      <ColoredLetters clrs={clrs} tick={tick} stop={stop} run_len={run_len}>\n        WELCOME 2.... PIMPY'S MIND PALACE\n      </ColoredLetters>\n    </h1>\n  </div>\n}\n\n\nfunction ColoredLetters(props) {\n  const [ltrs, setLtrs] = useState(props.children.split(''))\n  const numLtrs = ltrs.length\n\n  const getLtr = (ltr, idx, tick) => {\n    const start_t = (props.stop / numLtrs) * idx\n    const t_run = tick - start_t\n    let color = props.clrs[0]\n    if (t_run > 0 && t_run < props.run_len) {\n      // find adj pct\n      color = _calc_clr_by_pct(t_run / props.run_len)\n    } else if (t_run >= props.run_len) {\n      color = props.clrs[props.clrs.length - 1]\n    }\n    return <span key={idx} style={{'color': color}}>\n      {ltr}\n    </span>\n  }\n  return <span>\n    {ltrs && ltrs.map((ltr, idx) => getLtr(ltr, idx, props.tick))}\n  </span>\n}\n","/**\n * ACTIONS AND ACTION TYPES\n */\n\nconst ats = {\n  'AUTH_LOGIN': 'AUTH_LOGIN',\n  'AUTH_LOGOFF': 'AUTH_LOGOFF',\n  'PHR_LOAD': 'PHR_LOAD',\n  'PHR_SELECT': 'PHR_SELECT',\n}\n\nfunction getActions(dispatch) {\n  return {\n    'auth_login': (token, email) => {\n      dispatch({type: ats.AUTH_LOGIN, 'data': {token, email}})\n      sessionStorage.setItem('tkn', token)\n      sessionStorage.setItem('email', email)\n    },\n    'auth_logoff': () => {\n      dispatch({type: ats.AUTH_LOGOFF})\n      sessionStorage.setItem('tkn', null)\n      sessionStorage.setItem('email', null)\n    },\n    'phr_load': (data) => dispatch({type: ats.PHR_LOAD, data}),\n    'phr_select': (data) => dispatch({type: ats.PHR_SELECT, data}),\n  }\n}\n\n\n/**\n * PHRAGS REDUCER\n */\n\nconst _phr_is = {\n  'items': [],\n  'selected': null,\n}\n\nfunction _phr_rx(state, action) {\n  switch (action.type) {\n    case ats.PHR_LOAD:\n      return _dc(state, {'items': action.data });\n    case ats.AUTH_LOGOFF:\n      return _dc(state, {'items': []});\n    case ats.PHR_SELECT:\n      return _dc(state, {'selected': action.data });\n    default:\n      return state\n  }\n}\n\n\n/**\n * AUTH REDUCER\n */\n\nconst initTkn = sessionStorage.getItem('tkn') !== \"null\" ? sessionStorage.getItem('tkn') : null\nconst initEmail = sessionStorage.getItem('email') !== \"null\" ? sessionStorage.getItem('email') : null\nconst _auth_is = {\n  'token': initTkn,\n  'email': initEmail,\n}\n\nfunction _auth_rx(state, action) {\n  switch (action.type) {\n    case ats.AUTH_LOGIN:\n      return _dc(state, {'token': action.data.token, 'email': action.data.email})\n    case ats.AUTH_LOGOFF:\n      return _dc(state, {'token': null, 'email': null});\n    default:\n      return state\n  }\n}\n\n\n/**\n * MAIN REDUCER\n */\n\nconst initialState = {\n  'auth': _auth_is,\n  'phrags': _phr_is,\n}\n\nfunction reducer(state, action) {\n  let _state = Object.assign({}, {\n    'auth': _auth_rx(state.auth, action),\n    'phrags': _phr_rx(state.phrags, action),\n  })\n  return _state\n}\n\n\n/**\n * REDUCER HELPERS\n */\n\nfunction _dc(state, update) {\n  return Object.assign({}, state, update);\n}\n\n\n\n/**\n * SELECTOR FUNCTIONS\n */\nconst selectToken = (state) => () => state.auth.token;\nconst selectEmail = (state) => () => state.auth.email;\nconst selectAllPhrags = (state) => () => state.phrags.items\nconst selectSelectedPhragId = (state) => () => state.phrags.selected\nconst selectSelectedPhrag = (state) => () => {\n  const selId = selectSelectedPhragId(state)()\n  const allPhrags = selectAllPhrags(state)()\n  if (!selId) {\n    return null;\n  }\n  return allPhrags.find((p) => p.id === selId)\n}\n\nconst getSelectors = (state) => ({\n  'token': selectToken(state),\n  'allPhrags': selectAllPhrags(state),\n  'selPhrag': selectSelectedPhrag(state),\n  'curEmail': selectEmail(state),\n})\n\n\n\n/**\n * EXPORT IT\n */\nexport {\n  reducer,\n  initialState,\n  getSelectors,\n  getActions,\n}\n","import React, {useState, useEffect, useReducer} from 'react';\n\nimport axios from 'axios';\n\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport PhragList from './PhragList.js';\nimport MutPhrag from './MutPhrag.js';\nimport NewPhrag from './NewPhrag.js';\nimport Hdr from './Hdr.js';\nimport {reducer, initialState, getSelectors, getActions} from './state.js';\nimport styles from './App.module.css'\n\n\nexport const Conn = React.createContext(null)\n\nconst SHOW_DEBUGGER = false;\n\nexport default function App() {\n  const [dbg, setDbg] = useState(false)\n  const [dbgRC, setDbgRC] = useState(0)\n  const [appState, dispatch] = useReducer(reducer, initialState)\n  const select = getSelectors(appState)\n  const acts = getActions(dispatch)\n  const token = select.token()\n  const headers = token ? {\"Authorization\": `Bearer ${token}`} : {}\n  const api = axios.create({\n    headers,\n  })\n  api.fetchPhrags = () => api.get('/phrag/')\n    .then(res => acts.phr_load(res.data.phrags))\n\n  useEffect(() => {\n    if (token) api.fetchPhrags()\n  }, [token])\n\n  const conn = {\n    api,\n    acts,\n    select,\n  }\n\n  // INIT FETCH FOR LOGGEDIN USERS\n  useEffect(() => {\n    if (token) {\n      setDbgRC(dbgRC + 1)\n      api.fetchPhrags()\n    } else {\n      acts.phr_load([])\n    }\n  }, [])\n\n\n  return (\n    <Conn.Provider value={conn}>\n      <div className={styles.body}>\n        <Hdr />\n        { token && <div>\n          <div className={styles.window}>\n            <div className={styles.left}>\n              <NewPhrag />\n              <PhragList />\n            </div>\n            <div className={styles.right}>\n              <MutPhrag selPhrag={select.selPhrag()}/>\n            </div>\n          </div>\n        </div>}\n        <Login />\n        { SHOW_DEBUGGER && <div>\n          <h2 onClick={() => setDbg(!dbg)}>~~~~DEBUGGER MODE~~~~~</h2>\n          {dbg && <div>\n            <p>App Level render count: {dbgRC}</p>\n            <Register />\n            <pre>{JSON.stringify(appState, null, 2)}</pre>\n          </div>}\n        </div>}\n      </div>\n    </Conn.Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}